<html>
  <head>
    <title>Spycam live stream</title>

    <style>
      body {
        margin: 0px;
      }

      #videoStream {
        width: 100vw;
      }

      #controls {
        z-index: 200;
        position: absolute;
        top: 2em;
        left: 2em;
      }
    </style>
  </head>
  <body>

    <div id="controls">
      <button type="button" onclick="wsavc.playStream()">Start Video</button>
      <button type="button" onclick="wsavc.stopStream()">Stop Video</button>
      <button type="button" onclick="wsavc.disconnect()">Disconnect</button>
    </div>

    <!-- provide WSAvcPlayer -->
    <script type="text/javascript" src="http-live-player.js">;</script>
    <script type="text/javascript">

    // Create canvas to host player in
    var canvas = document.createElement("canvas");
    canvas.id = "videoStream";
    document.body.appendChild(canvas);

    // Create h264 player
    var uri = "ws://" + document.location.host;
    var wsavc = new WSAvcPlayer(canvas, "webgl", 1, 35);
    wsavc.connect(uri);

    //expose instance for button callbacks
    window.wsavc = wsavc;

    // Start stream by default
    try {
      wsavc.playStream();
    } catch (err) {
      console.log("Play error:", err);
    }
    </script>
  </body>
</html>